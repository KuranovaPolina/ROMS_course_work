<?xml version="1.0" encoding="utf-8"?>
<mujoco>
    <option gravity="0 0 -9.81" timestep="0.002">
        <flag warmstart="enable"/>
    </option>

    <visual>
        <global offwidth="800" offheight="800"/>
        <quality shadowsize="4096"/>
        <map force="0.1" fogstart="3" fogend="5" znear="0.1" zfar="50"/>
    </visual>

    <asset>
        <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="512"/>
        <texture name="texplane" type="2d" builtin="checker" rgb1=".2 .3 .4" rgb2=".1 .2 .3" width="512" height="512" mark="cross" markrgb=".8 .8 .8"/>
        <material name="groundplane" texture="texplane" texrepeat="5 5" texuniform="true" reflectance="0.2"/>
        <material name="arm1" rgba="0.8 0.3 0.3 1"/>
        <material name="arm2" rgba="0.3 0.8 0.3 1"/>
        <material name="arm3" rgba="0.3 0.3 0.8 1"/>
    </asset>

    <default>
        <joint damping="0.2" armature="0.01"/>
        <geom contype="1" conaffinity="1" friction="1 0.1 0.1" rgba="0.7 0.7 0 1"/>
    </default>

    <worldbody>
        <!-- Light source -->
        <light name="spotlight" mode="targetbody" target="world" diffuse=".8 .8 .8" specular="0.3 0.3 0.3" pos="0 -6 4" dir="0 1 -1"/>
        <light name="top" pos="0 0 3" dir="0 0 -1" diffuse="0.6 0.6 0.6" specular="0.3 0.3 0.3"/>

        <!-- Ground plane -->
        <geom name="ground" type="plane" material="groundplane" size="5 5 0.1" rgba="1 1 1 1"/>

        <!-- Default camera -->
        <camera name="fixed" pos="0 -3 2" xyaxes="1 0 0 0 0.7 0.7"/>

        <!-- Mechanism base -->
        <body name="base" pos="0 0 0.1">
            <geom type="cylinder" size="0.05 0.01" material="arm1"/>
            <joint name="joint1" type="hinge" axis="0 0 1" pos="0 0 -0.05"/>
            <geom type="capsule" size="0.01" fromto="0 0 0 0 0.25 0" material="arm2"/>

            <!-- First link -->
            <body name="link1" pos="0 0.25 0">
                <geom type="cylinder" size="0.05 0.01" material="arm1"/>
                <joint name="joint2" type="hinge" axis="0 0 1" pos="0 0 -0.05"/>
                <geom type="capsule" size="0.01" fromto="0 0 0 0.25 0 0" material="arm2"/>

                <!-- Second link -->
                <body name="link2" pos="0.25 0 0">
                    <geom type="cylinder" size="0.05 0.01" material="arm1"/>
                    <joint name="joint3" type="hinge" axis="0 0 1" pos="0 0 -0.05"/>
                    <geom type="capsule" size="0.01" fromto="0 0 0 0 -0.25 0" material="arm2"/>

                    <site name="c1" pos="0 -0.25 0"/>
                </body>
            </body>
        </body>

        <!-- Mechanism end-->
        <body name="end" pos="0.25 0 0.1">
            <geom type="cylinder" size="0.05 0.01" material="arm1"/>
            <joint name="joint4" type="hinge" axis="0 0 1" pos="0 0 -0.05"/>
            <site name="c2" pos="0 0 0"/>
        </body>
    </worldbody>

    <tendon>
        <spatial name="connection" limited="true" range="0 0.0000001" width="0.003" rgba="0.8 0.8 0.8 1">
            <site site="c1"/>
            <site site="c2"/>
        </spatial>
    </tendon>

    <actuator>
        <motor joint="joint1" name="motor1" gear="100" ctrlrange="-0.01 0.01"/>
        <!-- <motor joint="joint2" name="motor2" gear="100" ctrlrange="-0.01 0.01"/>
        <motor joint="joint3" name="motor3" gear="100" ctrlrange="-0.01 0.01"/> -->
    </actuator>
</mujoco> 